# Quick Reference Guide

## Essential Commands

### Backend
```bash
# Navigate to backend
cd "Student Portal/backend"

# Install dependencies
npm install

# Start server
npm start

# Start with auto-reload
npm run dev

# Stop server
Ctrl + C
```

### Frontend
```bash
# Navigate to frontend (new terminal)
cd "Student Portal/frontend"

# Install dependencies
npm install

# Start development server
npm start

# Stop server
Ctrl + C
```

## Important URLs

| Purpose | URL |
|---------|-----|
| Frontend | http://localhost:3000 |
| Backend API | http://localhost:5000 |
| API Base | http://localhost:5000/api |

## Default Test Credentials

### Super Admin (Create in MongoDB)
- Email: `superadmin@university.edu`
- Password: `admin123` (after bcrypt hashing)

### Test Student
- Email: `student@university.edu`
- Password: (auto-generated by admin)

### Test Admin
- Email: (created by super admin)
- Password: (auto-generated)

## File Locations for Common Changes

| Change | File |
|--------|------|
| Change API URL | `frontend/src/api/config.js` |
| Change backend port | `backend/.env` (PORT) |
| Change MongoDB URI | `backend/.env` (MONGODB_URI) |
| Change JWT secret | `backend/.env` (JWT_SECRET) |
| Add authentication route | `backend/routes/authRoutes.js` |
| Add API endpoint | `backend/routes/*.js` |
| Modify database schema | `backend/models/*.js` |
| Change styling | `frontend/src/components/*.module.css` |

## Common API Calls

### Register Student
```
POST /api/auth/register
Body: { email, password, confirmPassword }
Response: { token, user }
```

### Login
```
POST /api/auth/login
Body: { email, password }
Response: { token, user }
```

### Create Student (Admin)
```
POST /api/students
Headers: { Authorization: "Bearer TOKEN" }
Body: { email, firstName, lastName, department, ... }
Response: { student with studentId and password }
```

### Get Student Details
```
GET /api/students/:studentId
Headers: { Authorization: "Bearer TOKEN" }
Response: { student data }
```

### Update Fee Payment (Admin)
```
PUT /api/fees/:feeId/payment
Headers: { Authorization: "Bearer TOKEN" }
Body: { paidAmount }
Response: { updated fee }
```

## Error Codes

| Code | Meaning | Solution |
|------|---------|----------|
| 400 | Bad Request | Check your input data |
| 401 | Unauthorized | Login required or invalid token |
| 403 | Forbidden | You don't have permission |
| 404 | Not Found | Resource doesn't exist |
| 500 | Server Error | Check backend console |

## Database Queries (MongoDB)

### View All Users
```javascript
db.users.find()
```

### View All Students
```javascript
db.students.find().pretty()
```

### Find Student by Email
```javascript
db.users.findOne({ email: "student@example.com" })
```

### Update Student CGPA
```javascript
db.students.updateOne(
  { _id: ObjectId("...") },
  { $set: { cgpa: 3.8 } }
)
```

### Delete User
```javascript
db.users.deleteOne({ email: "user@example.com" })
```

## JSON Response Examples

### Success Response
```json
{
  "message": "Operation successful",
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "user": {
    "id": "507f1f77bcf86cd799439011",
    "email": "user@example.com",
    "role": "student"
  }
}
```

### Error Response
```json
{
  "message": "Invalid email or password",
  "error": "Details if in development mode"
}
```

## Environment Variables

```
# Backend .env
PORT=5000
MONGODB_URI=mongodb://localhost:27017/student_portal
JWT_SECRET=YourSecureRandomKey
NODE_ENV=development
```

## Debugging Tips

### Check if Backend is Running
```
Open http://localhost:5000
Should show: "Welcome to Student Portal API"
```

### Check if Frontend is Running
```
Open http://localhost:3000
Should show: Student Portal Home Page
```

### View Backend Errors
```
Check terminal where you ran npm start
Look for error messages
```

### View Frontend Errors
```
Press F12 to open DevTools
Go to Console tab
Look for red error messages
```

### Check MongoDB Connection
```
In backend console, should see:
"MongoDB Connected: localhost"
```

## User Roles & Permissions

| Feature | Student | Admin | Super Admin |
|---------|---------|-------|-------------|
| View own dashboard | âœ… | âŒ | âŒ |
| View own fees | âœ… | âœ… | âœ… |
| View own attendance | âœ… | âœ… | âœ… |
| Create student | âŒ | âœ… | âœ… |
| Update student | âŒ | âœ… | âœ… |
| Delete student | âŒ | âœ… | âœ… |
| Create admin | âŒ | âŒ | âœ… |
| Deactivate admin | âŒ | âŒ | âœ… |
| View all students | âŒ | âœ… | âœ… |
| View all fees | âŒ | âœ… | âœ… |

## Folder Structure Quick Reference

```
Student Portal/
â”œâ”€â”€ backend/              # Express server
â”‚   â”œâ”€â”€ config/           # Database config
â”‚   â”œâ”€â”€ controllers/       # Business logic
â”‚   â”œâ”€â”€ middleware/        # Auth & error handling
â”‚   â”œâ”€â”€ models/            # Database schemas
â”‚   â”œâ”€â”€ routes/            # API endpoints
â”‚   â”œâ”€â”€ .env               # Configuration
â”‚   â””â”€â”€ server.js          # Entry point
â”‚
â”œâ”€â”€ frontend/             # React application
â”‚   â”œâ”€â”€ public/            # Static files
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/           # API integration
â”‚   â”‚   â”œâ”€â”€ components/    # Reusable UI
â”‚   â”‚   â”œâ”€â”€ pages/         # Full pages
â”‚   â”‚   â”œâ”€â”€ App.js         # Main component
â”‚   â”‚   â””â”€â”€ index.js       # Entry point
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ README.md             # Main documentation
â”œâ”€â”€ SETUP_GUIDE.md        # Setup instructions
â”œâ”€â”€ LEARNING_PATH.md      # Learning guide
â””â”€â”€ PROJECT_SUMMARY.md    # File overview
```

## Git Commands

```bash
# Initialize git
git init

# Add all files
git add .

# Commit changes
git commit -m "Initial commit"

# Check status
git status

# View changes
git diff
```

## Common Errors & Solutions

### "Cannot find module 'express'"
```bash
cd backend
npm install
```

### "MongoDB connection failed"
- Check MongoDB is running: `mongod`
- Verify MONGODB_URI in .env
- For Atlas: add IP to whitelist

### "Port 5000 already in use"
- Change PORT in .env to 5001
- Or kill process: `lsof -ti:5000 | xargs kill -9`

### "CORS error"
- Backend CORS is enabled
- Check API_URL in frontend/src/api/config.js
- Ensure backend is running

### "Token expired"
- Clear localStorage: `localStorage.clear()`
- Login again

### "Cannot POST /api/students"
- Check route exists in routes file
- Verify backend is running
- Check request headers

## Performance Tips

1. **Database:**
   - Add indexes on frequently queried fields
   - Use lean() in queries when not modifying data

2. **Frontend:**
   - Use React.memo for components
   - Lazy load routes
   - Optimize images

3. **Backend:**
   - Cache responses
   - Use pagination for large data sets
   - Add compression middleware

## Security Checklist

- [ ] Change JWT_SECRET in production
- [ ] Use HTTPS in production
- [ ] Add rate limiting
- [ ] Validate all inputs
- [ ] Use environment variables
- [ ] Don't expose sensitive errors
- [ ] Add CORS restrictions
- [ ] Use secure cookies for tokens
- [ ] Add request size limits
- [ ] Implement logging

## Useful Links

- JavaScript: https://javascript.info/
- Express: https://expressjs.com/
- React: https://react.dev/
- MongoDB: https://docs.mongodb.com/
- JWT: https://jwt.io/
- Postman: https://www.postman.com/

## Quick Checklist for New Features

When adding a new feature:

1. **Backend:**
   - [ ] Create MongoDB model
   - [ ] Create controller functions
   - [ ] Create routes
   - [ ] Test with Postman
   - [ ] Add error handling
   - [ ] Add authorization check

2. **Frontend:**
   - [ ] Create API endpoint function
   - [ ] Create component/page
   - [ ] Add route in App.js
   - [ ] Add styling
   - [ ] Test happy path
   - [ ] Test error cases

## Testing Workflow

1. **Register/Login** - Test authentication
2. **Create Student** - Test admin creation
3. **View Student** - Test data retrieval
4. **Update Student** - Test data modification
5. **Create Attendance** - Test attendance feature
6. **Add Fee Payment** - Test fee tracking
7. **Logout** - Test session termination

---

**Quick Reference Complete! Ready to develop!** ğŸš€
